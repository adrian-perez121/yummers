<div class="scrollable new-post">
  <h1>Create a New Post</h1>

  <%= form_with model: [@user, @post] do |f| %>
    <div class="field" data-controller="word-count"
         data-word-count-max-length-value="<%= Post.max_length %>"
         data-word-count-min-length-value="<%= Post.min_length %>"
    >
      <%= f.label :description %>
      <ul class="post-errors">
        <% @post.errors.full_messages_for(:description).each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
      <%= f.text_area :description,
                      'data-word-count-target' => 'textField',
                      'data-action' => 'input->word-count#lengthOutput',
                      maxLength: Post.max_length

      %>
      <span data-word-count-target="characterOutput"></span>

    </div>

    <div class="field" data-controller="word-count"
         data-word-count-max-length-value="<%= Post.max_length %>"
         data-word-count-min-length-value="<%= Post.min_length %>"
    >
      <%= f.label :recipe %>
      <ul class="post-errors">
        <% @post.errors.full_messages_for(:recipe).each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
      <%= f.text_area :recipe,
                      'data-word-count-target' => 'textField',
                      'data-action' => 'input->word-count#lengthOutput',
                      maxLength: Post.max_length %>
      <span data-word-count-target="characterOutput"></span>
    </div>

    <%= button_tag 'Post', type: 'submit', class: 'post-button' %>
  <% end %>
</div>
